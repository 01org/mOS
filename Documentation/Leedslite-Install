IBM e-business Cryptographic Accelerator, AKA Leedslite


Leedslite DD for Linux kernel INSTALL

Building the Device Driver

	The directions in this section will highly depend on someone fluent
both in building kernels and device drivers.   

	The driver's compilation can be enabled through a config option of
'CONFIG_ICA_LEEDSLITE'.   You can access this through the xconfig menu's of:

	IBM Crypto Hardware Support -> IBM Leedslite Crypto Accel. (EXPERIMENTAL)
however, this option depends on CONFIG_EXPERIMENTAL also being enabled.  This
driver can be compiled either statically in the kernel or as a module. NOTE: Currently, the driver can only be compiled as modules.  Static compilation is not yet supported via the kernel configuration programs.

	After compiling the kernel and rebooting, if you built the support as modules, there are two modules which must be loaded to enable the leedslite card.  Both modules, devica.o and leedslite.o, can be found in '/lib/modules/_kernel_version_/kernel/drivers/ibmcrypto/leedslite'.
	Once the two modules are loaded, you should run 'cat /proc/devices' to determine the major number assigned to the ICA card.  After this has been determined, run 'mknod /dev/ica c _major_number_ _minor_number_'.  The minor number will almost always be zero.  
	Note:  No major number has been secured for the driver.  One can 
either be configured as a module_parm, or this information can be gleaned
from /dev/devices.
	Next, you should set the permissions on the card to make it rw by everyone.  Web servers require this.  Run 'chmod 666 /dev/ica' to do this.
	Lastly, you should test the card.  Run 'cat /dev/ica' to do this.  If you get back a bunch of random characters, then the card is working properly.
	Again if this adapter becomes widespread, more detailed information
and/or facilities may be suplied.
