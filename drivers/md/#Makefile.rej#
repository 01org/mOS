***************
*** 4,9 ****
  
  dm-mod-objs	:= dm.o dm-table.o dm-target.o dm-linear.o dm-stripe.o \
  		   dm-ioctl.o dm-io.o kcopyd.o dm-daemon.o
  raid6-objs	:= raid6main.o raid6algos.o raid6recov.o raid6tables.o \
  		   raid6int1.o raid6int2.o raid6int4.o \
  		   raid6int8.o raid6int16.o raid6int32.o \
--- 4,10 ----
  
  dm-mod-objs	:= dm.o dm-table.o dm-target.o dm-linear.o dm-stripe.o \
  		   dm-ioctl.o dm-io.o kcopyd.o dm-daemon.o
+ dm-snapshot-objs := dm-snap.o dm-exception-store.o
x1  raid6-objs	:= raid6main.o raid6algos.o raid6recov.o raid6tables.o \
  		   raid6int1.o raid6int2.o raid6int4.o \
  		   raid6int8.o raid6int16.o raid6int32.o \
***************
*** 24,29 ****
  obj-$(CONFIG_BLK_DEV_MD)	+= md.o
  obj-$(CONFIG_BLK_DEV_DM)	+= dm-mod.o
  obj-$(CONFIG_DM_CRYPT)		+= dm-crypt.o
  
  quiet_cmd_unroll = UNROLL  $@
        cmd_unroll = $(PERL) $(srctree)/$(src)/unroll.pl $(UNROLL) \
--- 25,31 ----
  obj-$(CONFIG_BLK_DEV_MD)	+= md.o
  obj-$(CONFIG_BLK_DEV_DM)	+= dm-mod.o
  obj-$(CONFIG_DM_CRYPT)		+= dm-crypt.o
+ obj-$(CONFIG_DM_SNAPSHOT)	+= dm-snapshot.o
  
  quiet_cmd_unroll = UNROLL  $@
        cmd_unroll = $(PERL) $(srctree)/$(src)/unroll.pl $(UNROLL) \
